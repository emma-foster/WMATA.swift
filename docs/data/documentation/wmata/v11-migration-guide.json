{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Majors changes were made to the package in order to vastly simplify the code base. I think you’ll find the new structure of the package to be much simpler to use and matches your workflow better."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you have previously worked with WMATA.swift I recommend reading "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoints"},{"type":"text","text":" to understand the new structure of this package. Instead of using client-like structures like "},{"type":"codeVoice","code":"MetroRail"},{"type":"text","text":" and "},{"type":"codeVoice","code":"MetroBus"},{"type":"text","text":", you now create individual calls with "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoint"},{"type":"text","text":" structures. This removes the ability to make requests on structures like "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Stop"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Line"},{"type":"text","text":", but greatly simplies the structure of the package."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This update includes the ability to make requests using Swift’s async\/await concurrency features. This is now the recommended way to make foreground requests. This feature is available for iOS 13, macOS Catalina, watchOS 6 and tvOS 13 or higher. You will need Xcode 13.2 or newer to use this feature with these OSes. Otherwise, you will only be able to target iOS 15, Monterey, etc or newer."}]},{"anchor":"Breaking-changes","level":2,"type":"heading","text":"Breaking changes"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This package now requires iOS 13, macOS 10.15, watchOS 7 or tvOS 13."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This package maintains compatibility with current OS versions plus two previous versions. With Xcode 13.2, these minimum requirements allow for usage of Swift’s new concurrency features like async\/await."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"MetroRail"},{"type":"text","text":" and "},{"type":"codeVoice","code":"MetroBus"},{"type":"text","text":" have been removed."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use endpoints in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Bus"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail\/GTFS"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Bus\/GTFS"},{"type":"text","text":" instead."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can no longer make API calls from "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Station"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Line"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Stop"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Route"},{"type":"text","text":" instances."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use endpoints in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Bus"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail\/GTFS"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Bus\/GTFS"},{"type":"text","text":" instead."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Stop"},{"type":"text","text":" and  "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Route"},{"type":"text","text":" are now typealiases for "},{"type":"codeVoice","code":"String"},{"type":"text","text":" rather than structs."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These structures can no longer be used to make API requests, so they can be much simpler now."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"WMATADelegate"},{"type":"text","text":" has been replaced with "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/EndpointDelegate"},{"type":"text","text":"."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Previous, WMATADelegate was overly complicated and unwieldy to use. For information on how to use the new delegate system see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/BackgroundRequests"},{"type":"text","text":"."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"RadiusAtCoordinates"},{"type":"text","text":" has been renamed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/WMATALocation"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/WMATAError"},{"type":"text","text":" is now an enum."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Error handling has been much improved in v11. Previously, it could be very difficult to detemrine what errors you were actually receiving. Errors should be much clearer now."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Many response structures have been changed."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Previously, responses were their own, independent structures. Now, they are response structures within an endpoint defined as "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoint\/Response"},{"type":"text","text":". Hopefully this will keep responses closer to the endpoint they’re related to and it’s easier to navigate all information related to an API. Many structures have had new data processing added, so types may be different between previous and current responses."}]},{"anchor":"Deprecations","level":2,"type":"heading","text":"Deprecations"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Station"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Line"},{"type":"text","text":" enums now use names like "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Station\/ballston"},{"type":"text","text":" rather than codes."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can currently still use codes, but they are deprecated and Xcode will assist you in renaming your hardcoded station and line instances. You can get the station code by calling "},{"type":"codeVoice","code":"rawValue"},{"type":"text","text":" on a "},{"type":"codeVoice","code":"Station"},{"type":"text","text":" or "},{"type":"codeVoice","code":"Line"},{"type":"text","text":" instance."}]},{"anchor":"Other","level":2,"type":"heading","text":"Other"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This package no longer uses @available for Combine APIs, since the new minimum OS requirements for the package all include Combine."}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/wmata\/v11-migration-guide"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/WMATA\/documentation\/WMATA\/v11-Migration-Guide","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"WMATA.swift v11 is a complete overhaul of the package. Likely, all previous code will need to be reworked."}],"kind":"article","metadata":{"roleHeading":"Article","title":"v11 Migration Guide","role":"article","modules":[{"name":"WMATA"}]},"hierarchy":{"paths":[["doc:\/\/WMATA\/documentation\/WMATA"]]},"seeAlsoSections":[{"title":"Updating from Previous Versions","identifiers":["doc:\/\/WMATA\/documentation\/WMATA\/v14-Migration-Guide","doc:\/\/WMATA\/documentation\/WMATA\/v13-Migration-Guide","doc:\/\/WMATA\/documentation\/WMATA\/v12-Migration-Guide"],"generated":true}],"references":{"doc://WMATA/documentation/WMATA/v13-Migration-Guide":{"role":"article","title":"v13 Migration Guide","abstract":[{"type":"text","text":"WMATA.swift v13 removes the long-unused Yellow Line Rush Plus line, as it’s finally been removed from the WMATA API."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/v13-Migration-Guide","kind":"article","type":"topic","url":"\/documentation\/wmata\/v13-migration-guide"},"doc://WMATA/documentation/WMATA/Rail/NextTrains":{"role":"symbol","title":"Rail.NextTrains","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"NextTrains"}],"abstract":[{"type":"text","text":"Next train arrival information for one or more stations"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail\/NextTrains","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"NextTrains"}],"url":"\/documentation\/wmata\/rail\/nexttrains"},"doc://WMATA/documentation/WMATA/Line":{"role":"symbol","title":"Line","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Line"}],"abstract":[{"type":"text","text":"A Metrorail line"},{"type":"text","text":" "},{"type":"image","identifier":"metrorail-map"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Line","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Line"}],"url":"\/documentation\/wmata\/line"},"doc://WMATA/documentation/WMATA":{"role":"collection","title":"WMATA","abstract":[{"type":"text","text":"WMATA is an interface to the Washington Metropolitan Area Transit Authority API."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA","kind":"symbol","type":"topic","url":"\/documentation\/wmata"},"doc://WMATA/documentation/WMATA/Bus/GTFS":{"role":"symbol","title":"Bus.GTFS","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"GTFS"}],"abstract":[{"type":"text","text":"Metrobus GTFS endpoints"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Bus\/GTFS","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"GTFS"}],"url":"\/documentation\/wmata\/bus\/gtfs"},"doc://WMATA/documentation/WMATA/Route":{"role":"symbol","title":"Route","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Route"}],"abstract":[{"type":"text","text":"A Metrobus route"},{"type":"text","text":" "},{"type":"image","identifier":"metrobus-e4-route"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Route","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Route"}],"url":"\/documentation\/wmata\/route"},"doc://WMATA/documentation/WMATA/Endpoints":{"role":"collectionGroup","title":"Endpoints","abstract":[{"type":"text","text":"Understanding endpoints and how to make requests the way you need."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoints","kind":"article","type":"topic","url":"\/documentation\/wmata\/endpoints"},"doc://WMATA/documentation/WMATA/BackgroundRequests":{"role":"article","title":"Background Requests","abstract":[{"type":"text","text":"Calling WMATA APIs while your application is in the background."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/BackgroundRequests","kind":"article","type":"topic","url":"\/documentation\/wmata\/backgroundrequests"},"doc://WMATA/documentation/WMATA/Rail/GTFS":{"role":"symbol","title":"Rail.GTFS","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"GTFS"}],"abstract":[{"type":"text","text":"Metrorail GTFS endpoints"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail\/GTFS","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"GTFS"}],"url":"\/documentation\/wmata\/rail\/gtfs"},"doc://WMATA/documentation/WMATA/Endpoint/Response":{"role":"symbol","title":"Response","fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"kind":"identifier","text":"Response"}],"abstract":[{"type":"text","text":"The response WMATA sends back when calling this endpoint"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoint\/Response","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/wmata\/endpoint\/response"},"doc://WMATA/documentation/WMATA/v12-Migration-Guide":{"role":"article","title":"v12 Migration Guide","abstract":[{"type":"text","text":"WMATA.swift v12 removes the need to use "},{"type":"codeVoice","code":"StationSet"},{"type":"text","text":" when making calls to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail\/NextTrains"},{"type":"text","text":"."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/v12-Migration-Guide","kind":"article","type":"topic","url":"\/documentation\/wmata\/v12-migration-guide"},"doc://WMATA/documentation/WMATA/WMATALocation":{"role":"symbol","title":"WMATALocation","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"WMATALocation"}],"abstract":[{"type":"text","text":"A location and radius from that location in meters."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/WMATALocation","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"WMATALocation"}],"url":"\/documentation\/wmata\/wmatalocation"},"doc://WMATA/documentation/WMATA/Station/ballston":{"role":"symbol","title":"Station.ballston","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"ballston"}],"abstract":[],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Station\/ballston","kind":"symbol","type":"topic","url":"\/documentation\/wmata\/station\/ballston"},"doc://WMATA/documentation/WMATA/Rail":{"role":"symbol","title":"Rail","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Rail"}],"abstract":[{"type":"text","text":"Metrorail endpoints"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Rail","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Rail"}],"url":"\/documentation\/wmata\/rail"},"doc://WMATA/documentation/WMATA/v14-Migration-Guide":{"role":"article","title":"v14 Migration Guide","abstract":[{"type":"text","text":"WMATA.swift v14 removes it’s dependency on the GTFS package and corrects an issue where GTFS generated types were not accessible when using WMATA.swift"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/v14-Migration-Guide","kind":"article","type":"topic","url":"\/documentation\/wmata\/v14-migration-guide"},"doc://WMATA/documentation/WMATA/Endpoint":{"role":"symbol","title":"Endpoint","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Endpoint"}],"abstract":[{"type":"text","text":"Protocol defining a WMATA API endpoint."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoint","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Endpoint"}],"url":"\/documentation\/wmata\/endpoint"},"doc://WMATA/documentation/WMATA/Stop":{"role":"symbol","title":"Stop","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Stop"}],"abstract":[{"type":"text","text":"A Metrobus stop"},{"type":"text","text":" "},{"type":"image","identifier":"metrobus-stop"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Stop","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Stop"}],"url":"\/documentation\/wmata\/stop"},"doc://WMATA/documentation/WMATA/EndpointDelegate":{"role":"symbol","title":"EndpointDelegate","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EndpointDelegate"}],"abstract":[{"type":"text","text":"Base delegate for receiving background responses from an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Endpoint"},{"type":"text","text":"."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/EndpointDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EndpointDelegate"}],"url":"\/documentation\/wmata\/endpointdelegate"},"doc://WMATA/documentation/WMATA/Station":{"role":"symbol","title":"Station","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Station"}],"abstract":[{"type":"text","text":"A Metrorail station"},{"type":"text","text":" "},{"type":"image","identifier":"metrorail-station"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Station","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Station"}],"url":"\/documentation\/wmata\/station"},"doc://WMATA/documentation/WMATA/Bus":{"role":"symbol","title":"Bus","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Bus"}],"abstract":[{"type":"text","text":"Metrobus endpoints"}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/Bus","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Bus"}],"url":"\/documentation\/wmata\/bus"},"doc://WMATA/documentation/WMATA/WMATAError":{"role":"symbol","title":"WMATAError","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"WMATAError"}],"abstract":[{"type":"text","text":"All errors that occur with the WMATA package."}],"identifier":"doc:\/\/WMATA\/documentation\/WMATA\/WMATAError","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"WMATAError"}],"url":"\/documentation\/wmata\/wmataerror"}}}